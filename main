#include <stdio.h>
#include <stdlib.h>

typedef struct {
    char usuario[20];
    char senha[10];
}login;

typedef struct {
    char CRM[6];
    char nome[50];
    char especialidade[20];
    char data_de_nascimento[12];
    float valor_hora_trabalho;
    char telefone[14];
}medico;

typedef struct {
    char CPF[12];
    char nome[30];
    char data_de_nascimento[12];
    char telefone[14];
}paciente;

typedef struct {
    char crm_medico[6];
    char cpf_paciente[12];
    char data[12];
    char sintomas[100];
    char encaminhamentos[100];
}consulta;

typedef struct {
    char chave[12]; // CPF ou CRM
    int posicao; // Posição do registro no arquivo binário
} indexPaciente, indexMedico;

int main(){
    int opcaoMenuInicial, validarLogin = 2, opcaoMenuLogin, opcaoMenuLoginSec;

    do{
        if(validarLogin == 0)
            return 0;

        printf("\n-----MENU INICIAL-----");
        printf("\n1 - Efetuar Login");
        printf("\n2- Cadastrar Usuário");
        printf("\n0- Encerrar Programa");
        printf("\nSelecione uma das opcoes acima: ");
        scanf("%d", &opcaoMenuInicial);

        switch(opcaoMenuInicial){
        case 0:
            printf("\nEncerrando Programa...\n");
        break;
        case 1:
            validarLogin = EfetuarLogin();
        break;
        case 2:
            CadastrarNovoUsuario(); //tem que completar aqui ainda quando as funções tiverem prontas
        break;
        default:
            printf("\nOpcao invalida tente novamente");
        break;
        }
    } while (opcaoMenuInicial != 0 && validarLogin != 1);

    do{
        printf("\n1 - Pacientes\n2 - Medicos\n3 - Consultas\n0 - Voltar");
        printf("\nSelecione uma das opcoes acima: ");
        scanf("%d", &opcaoMenuLogin);

        switch(opcaoMenuLogin){
            case 1:
                do{
                    printf("\n-----MENU PACIENTE-----");
                    printf("\n1 - Cadastrar Paciente\n2 - Buscar Paciente (Por Nome)\n3 - Alterar Dados do Paciente\n0 - Voltar");
                    printf("\nSelecione uma das opcoes acima: ");
                    scanf("%d", &opcaoMenuLoginSec);

                    switch(opcaoMenuLoginSec){
                        case 1:

                        break;
                        case 2:

                        break;
                        case 3:

                        break;
                        default:
                            printf("\nOpcao invalida!");
                        break;
                    }

                }while(opcaoMenuLoginSec != 0);
            break;
            case 2:
                do{
                    printf("\n-----MENU MEDICO-----");
                    printf("\n1 - Cadastrar Medico\n2 - Buscar Medico (Por Nome)\n3 - Listar Medico por Especialidade\n4 - Alterar Dados do Medico\n0 - Voltar");
                    printf("\nSelecione uma das opcoes acima: ");
                    scanf("%d", &opcaoMenuLoginSec);

                    switch(opcaoMenuLoginSec){
                        case 1:
                            InserirNovoMedico();
                        break;
                        case 2:
                            BuscarMedicoPorNome();
                        break;
                        case 3:

                        break;
                        case 4:

                        break;
                        default:
                            printf("\nOpcao invalida!");
                        break;
                    }

                }while(opcaoMenuLoginSec != 0);
            break;
            case 3:
                do{
                    printf("\n-----MENU CONSULTAS-----");
                    printf("\n1 - Cadastrar Consulta\n2 - Listar Consultas (Por Medico)\n3 - Listar Consultas (Por Paciente)\n4 - Listar Consultas (Por Data)\n0 - Voltar");
                    printf("\nSelecione uma das opcoes acima: ");
                    scanf("%d", &opcaoMenuLoginSec);

                    switch(opcaoMenuLoginSec){
                        case 1:

                        break;
                        case 2:

                        break;
                        case 3:

                        break;
                        case 4:

                        break;
                        default:
                            printf("\nOpcao invalida!");
                        break;
                    }

                }while(opcaoMenuLoginSec != 0);
            break;
            default:
                printf("Opcao invalida!");
            break;
        }
    }while(opcaoMenuLogin != 0);

    return 0;
}
